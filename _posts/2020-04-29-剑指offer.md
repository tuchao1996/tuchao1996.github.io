---
layout: post
title: 剑指offer学习
date: 2020-04-29
tags: 笔经面经
---

# 简介
《剑指Offer:名企面试官精讲典型编程题》剖析了50个典型的程序员面试题，从基础知识、代码质量、解题思路、优化效率和综合能力五个方面系统整理了影响面试的5个要点。
全书分为7章，主要包括面试的流程，讨论面试流程中每一环节需要注意的问题；

- 面试需要的基础知识，从编程语言、数据结构及算法三方面总结了程序员面试的知识点；
- 高质量的代码，讨论影响代码质量的3个要素（规范性、完整性和鲁棒性），强调高质量的代码除了能够完成基本的功能之外，还能考虑到特殊情况并对非法输入进行合理的处理；
- 解决面试题的思路，总结在编程面试中解决难题的常用思路，如果在面试过程中遇到了复杂的难题，应聘者可以利用画图、举例和分解复杂问题3种方法化繁为简，先形成清晰的思路再动手编程；
- 优化时间和空间效率，介绍如何优化代码的时间效率和空间效率，读完这一章读者将学会常用的优化时间效率及空间换时间的常用算法，从而在面试中找到最优的解法；
- 面试中的各种能力，本章总结应聘者在面试过程中如何表现学习能力和沟通能力，并通过具体的面试题讨论如何培养知识迁移能力、抽象建模能力和发散思维能力；

两个面试案例，这两个案例总结了应聘者在面试过程中哪些举动是不好的行为，而哪些表现又是面试官所期待的行为。

# 第一章 面试的流程

![](/images/posts/0430_leetcode/img1.jpeg)

# 第二章 基础知识

## 数据结构

### 数组

数组可以说是最简单的一种数据结构,它占据一块连续的内存并按照顺序存储数据。创建数组时,我们需要首先指定数组的容量大小,然后根据大小分配内存。
即使我们只在数组中存储一个数字,也需要为所有的数据预先分配内存。

### 字符串

字符串是由若干**字符组成的序列。**由于字符串在编程时使用的频率非常高,为了优化,很多语言都对字符串做了特殊的规定。

### 链表

链表是一种物理存储单元上非连续、非顺序的存储结构，数据元素的逻辑顺序是通过链表中的指针链接次序实现的。 
链表由一系列结点（链表中每一个元素称为结点）组成，结点可以在运行时动态生成。 每个结点包括两个部分：
一个是存储数据元素的数据域，另一个是存储下一个结点地址的指针域。 相比于线性表顺序结构，操作复杂。

### 树

树状图是一种数据结构，它是由n（n>=0）个有限结点组成一个具有层次关系的集合。把它叫做“树”是因为它看起来像一棵倒挂的树，也就是说它是根朝上，而叶朝下的。
它具有以下的特点：
每个结点有零个或多个子结点；没有父结点的结点称为根结点；每一个非根结点有且只有一个父结点；除了根结点外，每个子结点可以分为多个不相交的子树；

- 如何快速写出一棵树的前/中/后序？ 

![](/images/posts/0430_leetcode/img2.jpg)


二叉树的常见特例：二叉搜索树、堆、红黑树

- 二叉搜索树(logn 快速搜索值)

二叉查找树（Binary Search Tree），（又：二叉搜索树，二叉排序树）它或者是一棵空树，或者是具有下列性质的二叉树： 
若它的左子树不空，则左子树上所有结点的值均小于它的根结点的值； 若它的右子树不空，则右子树上所有结点的值均大于它的根结点的值； 
它的左、右子树也分别为二叉排序树。

**查找一个树，时间复杂度 logn**

- 堆（heap）(1 快速寻找最大值或最小值)

堆（英语：heap)是计算机科学中一类特殊的数据结构的统称。堆通常是一个可以被看做一棵树的数组对象。堆总是满足下列性质：

**堆中某个节点的值总是不大于或不小于其父节点的值；**

堆总是一棵**完全二叉树。**

将根节点最大的堆叫做最大堆或大根堆，根节点最小的堆叫做最小堆或小根堆。常见的堆有二叉堆、斐波那契堆等。
堆是非线性数据结构，相当于一维数组，有两个直接后继。
堆的定义如下：n个元素的序列{k1,k2,ki,…,kn}当且仅当满足下关系时，称之为堆。
(ki <= k2i,ki <= k2i+1)或者(ki >= k2i,ki >= k2i+1), (i = 1,2,3,4...n/2)
若将和此次序列对应的一维数组（即以一维数组作此序列的存储结构）看成是一个完全二叉树，

则堆的含义表明，完全二叉树中所有非终端结点的值均不大于（或不小于）其左、右孩子结点的值。由此，若序列{k1,k2,…,kn}是堆，
则堆顶元素（或完全二叉树的根）必为序列中n个元素的最小值（或最大值）。

**heap的效率**

n个结点的堆，高度d=logn。根为第0层，则第i层结点个数为2^i，考虑一个元素在堆中向下移动的距离，这种算法时间代价为Ο（n)
由于堆有logn层深，插入结点、删除普通元素和删除最小元素的平均时间代价和时间复杂度都是**logn**

- 红黑树（实现关联数组）

红黑树（英语：Red–black tree）是一种自平衡二叉查找树，是在计算机科学中用到的一种数据结构，典型的用途是实现关联数组。
它在1972年由鲁道夫·贝尔发明，被称为"对称二叉B树"，它现代的名字源于Leo J. Guibas和Robert Sedgewick于1978年写的一篇论文。
红黑树的结构复杂，但它的操作有着良好的最坏情况运行时间，并且在实践中高效：它可以在{\displaystyle {\text{O}}(\log n)}{\displaystyle {\text{O}}
**(\log n)}时间内完成查找、插入和删除**，这里的{\displaystyle n}n是树中元素的数目。

**set multiset map multimap 等数据结构都是基于红黑树实现**        

## 栈和队列

**stack**

栈（stack）又名堆栈，它是一种运算受限的线性表。限定仅在表尾进行插入和删除操作的线性表。这一端被称为栈顶，相对地，把另一端称为栈底。
向一个栈插入新元素又称作进栈、入栈或压栈，它是把新元素放到栈顶元素的上面，使之成为新的栈顶元素；从一个栈删除元素又称作出栈或退栈，
它是把栈顶元素删除掉，使其相邻的元素成为新的栈顶元素。

**queue**
队列是一种特殊的线性表，特殊之处在于它只允许在表的前端（front）进行删除操作，而在表的后端（rear）进行插入操作，
和栈一样，队列是一种操作受限制的线性表。进行插入操作的端称为队尾，进行删除操作的端称为队头。

## 算法和数据操作

- 二维数组上搜索路径，如迷宫或棋盘等，可以尝试回溯法。回溯法一般采用**递归***的代码实现。
- 求某个问题的最优解，并且该问题是可以分为多个子问题，则可以尝试**动态规划**。
- 若提醒分解为子问题时是否存在某个特殊的选择，能得到最优解，这往往意味着题目能采用**贪心算法**解决。
- 位运算。仅有与、或、异或、左移、右移5种选项。

### 递归和循环

- 递归的编程简洁，面试时应尽量采用递归实现。
- 缺点：1。 函数内部调用自身，每次函数调用有时间和空间的消耗；
- 2。要在内存栈种分配空间保存参数、返回地址和临时变量等，且压栈和入栈都是需要时间的。
- 3。很多计算时重复的。
- 4。任意发生调用栈溢出。

### 查找和排序

**查找相对简单，仅有以下几种方式：**

顺序查找、二分查找（常用）、哈希表查找、二叉排序树查找。

- 若查找的序列是有序的，一般都考虑用二分查找来做。

 **排序比查找相对复杂**
 
 - 熟悉冒泡排序、比较插入排序、归并排序、快速排序等不同算法，要能比较空间效率、平均时间效率、最差时间效率。
 - 快速排序必须掌握，其中Partition函数能用来求解其他面试题。如长度为n的数组中查找第k大的数字，
 - 经典面试题如数组中出现超过一半的数字、最小的k个数。
 
 ### 回溯法
 
回溯算法实际上一个类似枚举的搜索尝试过程，主要是在搜索尝试过程中寻找问题的解，当发现已不满足求解条件时，就“回溯”返回，尝试别的路径。

回溯法是一种选优搜索法，按选优条件向前搜索，以达到目标。但当探索到某一步时，发现原先选择并不优或达不到目标，
就退回一步重新选择，这种走不通就退回再走的技术为回溯法，而满足回溯条件的某个状态的点称为“回溯点”。

许多复杂的，规模较大的问题都可以使用回溯法，有“通用解题方法”的美称。

- 一般教科书概念上的讲解

回溯算法实际上一个类似枚举的搜索尝试过程，主要是在搜索尝试过程中寻找问题的解，当发现已不满足求解条件时，就“回溯”返回，尝试别的路径。

回溯法是一种选优搜索法，按选优条件向前搜索，以达到目标。但当探索到某一步时，发现原先选择并不优或达不到目标，就退回一步重新选择，这种走不通就退回再走的技术为回溯法，而满足回溯条件的某个状态的点称为“回溯点”。

许多复杂的，规模较大的问题都可以使用回溯法，有“通用解题方法”的美称。

- 基本思想

在包含问题的所有解的解空间树中，按照深度优先搜索的策略，从根结点出发深度探索解空间树。当探索到某一结点时，要先判断该结点是否包含问题的解，
如果包含，就从该结点出发继续探索下去，如果该结点不包含问题的解，则逐层向其祖先结点回溯。（其实回溯法就是对隐式图的深度优先搜索算法）。

若用回溯法求问题的所有解时，要回溯到根，且根结点的所有可行的子树都要已被搜索遍才结束。

而若使用回溯法求任一个解时，只要搜索到问题的一个解就可以结束。

- 解题一般步骤

（1）针对所给问题，确定问题的解空间：首先应明确定义问题的解空间，问题的解空间应至少包含问题的一个（最优）解。

（2）确定结点的扩展搜索规则

（3）以深度优先方式搜索解空间，并在搜索过程中用剪枝函数避免无效搜索。

- 回溯法解决的问题的所有选项可以形象地用树状结构表示。
- 通常回溯法适合采用递归实现代码。

### 动态规划和贪婪算法

- 大部分面试题，最优解可以用一位数组或二维数组存储。

问题满足四个条件时能用动态规划， 分别是：

- 求问题的最优解
- 整体问题的最优解依赖子问题的最优解
- 子问题之间有相互重叠的子问题
- 从上往下分析，从下往上求解问题

贪婪算法

- 每一步做出贪婪选择
- 需要用数学方式证明贪婪选择是正确的

### 位运算

五种位运算方式：

与、或、异或、左移、右移

对于无符号数来说，左移和右移都是用的逻辑移位，即左移低位空出的补0，右移高位空出的补0；

对于有符号数来说，用的是算术移位，左移多出的会移进符号位，右移在gcc编译器下是算术右移，即空出的高位补符号位。

## 小结

- 数组和字符串是最基本的数据结构
- 链表是面试题的频率最高的数据结构
- 加大难度，用树
- 栈和递归调用密切相关，队列在图（树）中的BFS有用，需要掌握stack和queue

# 高质量的代码

## 小结

高质量代码的特征：

- 规范性：书写清晰、布局清晰、命名合理
- 完整性：完成基本功能、考虑边界条件、做好错误处理
- 鲁棒性：采取防御性编程、处理无效输入

# 解决面试题的思路

## 小结

解决复杂难题

需要画图、举例、分解

- 画图：抽象具体化。链表、二叉树，找规律
- 举例：抽象具体化。依次模拟运行过程，寻找规律
- 分解：分治法、回溯、动态规划都是应用分解复杂问题的思路

# 优化时间和空间的效率

## 小结

降低时间复杂度的方法：

- 采用更加高效的算法
- 用空间换取时间

# 面试中的各项能力

## 小结

表现出自己的综合素质：

- 扎实的编程能力
- 沟通能力
- 学习能力
- 知识迁移能力
- 抽象建模能力
- 发散思维能力